(executable
 (name gopcaml)
 (libraries core ecaml compiler-libs.common)
 (preprocess (pps ppx_let ppx_here ppx_deriving.show ppx_sexp_conv))
 (modes (native shared_object))
)
(install
 (section share_root)
 (files (gopcaml-mode.el as emacs/site-lisp/gopcaml-mode.el)
  (gopcaml-smartparens.el as emacs/site-lisp/gopcaml-smartparens.el)
  (gopcaml-multiple-cursors.el as emacs/site-lisp/gopcaml-multiple-cursors.el)
))
(install
 (section lib)
 (files gopcaml.so))

